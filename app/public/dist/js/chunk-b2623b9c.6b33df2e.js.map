{"version":3,"sources":["webpack:///./src/layout/sysManger/userManger/index.vue?c54b","webpack:///./src/components/MoveBlock/index.vue?990d","webpack:///./src/layout/sysManger/userManger/index.vue?c677","webpack:///./src/api/user.js","webpack:///./src/components/MoveBlock/index.vue?2720","webpack:///src/components/MoveBlock/index.vue","webpack:///./src/components/MoveBlock/index.vue?e83f","webpack:///./src/components/MoveBlock/index.vue","webpack:///src/layout/sysManger/userManger/index.vue","webpack:///./src/layout/sysManger/userManger/index.vue?706a","webpack:///./src/layout/sysManger/userManger/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0bf3945b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0bf3945b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0ff375c4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0ff375c4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","slot","_v","staticStyle","float","padding","type","_l","val","key","userid","movedata","_s","userName","title","identityName","i","id","class","active","hoverActive","hoverIndex","on","click","$event","changeIdentity","dragenter","drop","authorityName","name","userAFromI","allAuthority","find","item","staticRenderFns","getAllUser","axios","get","HOST","getAllIdentity","getUserAuthorityFromIdentity","identityId","params","getAllAuthority","MoveBlockvue_type_template_id_0ff375c4_scoped_true_render","draggable","dragstart","_t","MoveBlockvue_type_template_id_0ff375c4_scoped_true_staticRenderFns","MoveBlockvue_type_script_lang_js_","props","Object","methods","_ref","dataTransfer","setData","JSON","stringify","components_MoveBlockvue_type_script_lang_js_","component","componentNormalizer","MoveBlock","userMangervue_type_script_lang_js_","data","allUser","allIdentity","components","scrollPane","ScrollPane","moveBlock","mounted","_this","then","_ref2","showInfo","_ref3","keys","map","objectSpread","document","addEventListener","dragover","destroyed","removeEventListener","e","preventDefault","_this2","_ref4","_ref5","parse","getData","console","log","sysManger_userMangervue_type_script_lang_js_","userManger_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-b2623b9c.6b33df2e.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0bf3945b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0bf3945b&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0ff375c4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0ff375c4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userContainer\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"用户\")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\"添加用户\\n          \")])],1),_c('scroll-pane',[_c('el-row',{attrs:{\"gutter\":10}},_vm._l((_vm.allUser),function(val){return _c('el-col',{key:val.userid,attrs:{\"span\":12}},[_c('move-block',{attrs:{\"movedata\":val}},[_c('li',[_c('span',[_vm._v(\"用户名：\"+_vm._s(val.userName))])]),_c('li',{attrs:{\"title\":val.identityName}},[_c('span',[_vm._v(\"身   份：\"+_vm._s(val.identityName))])])])],1)}),1)],1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"身份\")])]),_c('scroll-pane',[_c('dl',{staticClass:\"identity-list\"},[_c('dt',[_c('span',[_vm._v(\"身份id\")]),_c('span',[_vm._v(\"身份名称\")])]),_vm._l((_vm.allIdentity),function(val,i){return _c('dd',{key:val.id,class:{\n                                  active:val.id === _vm.id,\n                                  hoverActive:i === _vm.hoverIndex\n                              },on:{\"click\":function($event){return _vm.changeIdentity(val.id)},\"dragenter\":function($event){return _vm.dragenter(i)},\"drop\":function($event){return _vm.drop($event,val)}}},[_c('span',[_vm._v(_vm._s(val.id))]),_c('span',[_vm._v(_vm._s(val.identityName))])])})],2)])],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"权限\")])]),_c('scroll-pane',[_c('el-row',{attrs:{\"gutter\":10}},_vm._l((_vm.allAuthority),function(val){return _c('el-col',{key:val.id,attrs:{\"span\":12}},[_c('move-block',{attrs:{\"movedata\":val}},[_c('li',[_c('span',[_vm._v(\"权    限：\"+_vm._s(val.authorityName))])]),_c('li',{attrs:{\"title\":val.name}},[_c('span',[_vm._v(\"权限名称：\"+_vm._s(val.name))])])])],1)}),1)],1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"身份详情信息\")])]),_c('scroll-pane',[(_vm.userAFromI)?_c('div',{staticClass:\"user-form\"},[_c('dl',[_c('dt',[_c('p',[_vm._v(\"身份名称\")])]),_c('dd',[_vm._v(_vm._s(_vm.userAFromI.identityName))])]),_c('dl',[_c('dt',[_c('p',[_vm._v(\"权限\")])]),_c('dd',[_c('ul',_vm._l((_vm.userAFromI.authority),function(val,i){return _c('li',{key:i},[_vm._v(_vm._s(val)+\":\"+_vm._s(_vm.allAuthority.find(function (item){ return item.authorityName===val; }).name))])}),0)])]),_c('dl',[_c('dt',[_c('p',[_vm._v(\"用户\")])]),_c('dd',[_c('ul',_vm._l((_vm.userAFromI.userInfo),function(val){return _c('li',{key:val.id},[_vm._v(_vm._s(val.userName))])}),0)])])]):_c('div',[_vm._v(\"暂无该信息\")])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n\r\nimport { axios } from '@/utils/http';\r\nimport HOST from '@/config/host';\r\n\r\n// 获取所有用户\r\nexport function getAllUser(){\r\n  return axios.get(HOST + '/user/getAllUser');\r\n}\r\n\r\n// 获取所有身份\r\n\r\nexport function getAllIdentity(){\r\n  return axios.get(HOST + '/user/getAllIdentity');\r\n}\r\n\r\n// 根据身份获取用户和权限\r\nexport function getUserAuthorityFromIdentity(identityId){\r\n  return axios.get(HOST + '/user/getUserAuthorityFromIdentity', {\r\n    params: {\r\n      identityId\r\n    }\r\n  });\r\n}\r\n// 获取所有的权限\r\nexport function getAllAuthority(){\r\n  return axios.get(HOST + '/user/getAllAuthority');\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"moveblock\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":_vm.dragstart}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <ul class=\"moveblock\" draggable=\"true\" @dragstart=\"dragstart\">\r\n        <slot />\r\n    </ul>\r\n</template>\r\n<script>\r\nexport default {\r\n    props:{\r\n        movedata:Object\r\n    },\r\n    methods:{\r\n        dragstart({dataTransfer}){\r\n            dataTransfer.setData('text/plain',JSON.stringify(this.movedata));\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.moveblock{\r\n    background: #e5e9f2;\r\n    border-radius: 3px;\r\n    border:2px dashed #d3dce6;\r\n    margin-bottom: 10px;\r\n    padding: 5px;\r\n    user-select: none;\r\n    cursor: move;\r\n}\r\n.moveblock li{\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0ff375c4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0ff375c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ff375c4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"userContainer\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>用户</span>\r\n            <el-button style=\"float: right; padding: 3px 0\" type=\"text\">\r\n              <i class=\"el-icon-circle-plus-outline\"></i>添加用户\r\n            </el-button>\r\n          </div>\r\n          <scroll-pane>\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"12\" v-for=\"val in allUser\" :key=\"val.userid\">\r\n                <move-block :movedata=\"val\">\r\n                  <li>\r\n                    <span>用户名：{{val.userName}}</span>\r\n                  </li>\r\n                  <li :title=\"val.identityName\">\r\n                    <span>身&nbsp;&nbsp;&nbsp;份：{{val.identityName}}</span>\r\n                  </li>\r\n                </move-block>\r\n              </el-col>\r\n            </el-row>\r\n          </scroll-pane>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>身份</span>\r\n          </div>\r\n          <scroll-pane>\r\n            <dl class=\"identity-list\">\r\n              <dt>\r\n                <span>身份id</span>\r\n                <span>身份名称</span>\r\n              </dt>\r\n              <dd\r\n                v-for=\"(val,i) in allIdentity\"\r\n                :key=\"val.id\"\r\n                :class=\"{\r\n                                    active:val.id === id,\r\n                                    hoverActive:i === hoverIndex\r\n                                }\"\r\n                @click=\"changeIdentity(val.id)\"\r\n                @dragenter=\"dragenter(i)\"\r\n                @drop=\"drop($event,val)\"\r\n              >\r\n                <span>{{val.id}}</span>\r\n                <span>{{val.identityName}}</span>\r\n              </dd>\r\n            </dl>\r\n          </scroll-pane>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>权限</span>\r\n          </div>\r\n          <scroll-pane>\r\n            <el-row :gutter=\"10\">\r\n              <el-col :span=\"12\" v-for=\"val in allAuthority\" :key=\"val.id\">\r\n                <move-block :movedata=\"val\">\r\n                  <li>\r\n                    <span>权&nbsp;&nbsp;&nbsp;&nbsp;限：{{val.authorityName}}</span>\r\n                  </li>\r\n                  <li :title=\"val.name\">\r\n                    <span>权限名称：{{val.name}}</span>\r\n                  </li>\r\n                </move-block>\r\n              </el-col>\r\n            </el-row>\r\n          </scroll-pane>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>身份详情信息</span>\r\n          </div>\r\n          <scroll-pane>\r\n            <div v-if=\"userAFromI\" class=\"user-form\">\r\n              <dl>\r\n                <dt>\r\n                  <p>身份名称</p>\r\n                </dt>\r\n                <dd>{{userAFromI.identityName}}</dd>\r\n              </dl>\r\n              <dl>\r\n                <dt>\r\n                  <p>权限</p>\r\n                </dt>\r\n                <dd>\r\n                  <ul>\r\n                    <li\r\n                      v-for=\"(val,i) in userAFromI.authority\"\r\n                      :key=\"i\"\r\n                    >{{val}}:{{allAuthority.find(item=>item.authorityName===val).name}}</li>\r\n                  </ul>\r\n                </dd>\r\n              </dl>\r\n              <dl>\r\n                <dt>\r\n                  <p>用户</p>\r\n                </dt>\r\n                <dd>\r\n                  <ul>\r\n                    <li v-for=\"val in userAFromI.userInfo\" :key=\"val.id\">{{val.userName}}</li>\r\n                  </ul>\r\n                </dd>\r\n              </dl>\r\n            </div>\r\n            <div v-else>暂无该信息</div>\r\n          </scroll-pane>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getAllUser,\r\n  getAllIdentity,\r\n  getUserAuthorityFromIdentity,\r\n  getAllAuthority\r\n} from \"../../../api/user\";\r\nimport scrollPane from \"@/components/ScrollPane/\";\r\nimport moveBlock from \"@/components/MoveBlock/\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: 0, //点击切换id 请求数据\r\n      hoverIndex: -1, //滑过切换样式\r\n      allUser: [],\r\n      allIdentity: [],\r\n      allAuthority: [],\r\n      userAFromI: []\r\n    };\r\n  },\r\n  components: {\r\n    scrollPane,\r\n    moveBlock\r\n  },\r\n  mounted() {\r\n    getAllUser().then(({ data }) => {\r\n      this.allUser = data;\r\n    });\r\n    getAllIdentity().then(({ data }) => {\r\n      this.id = data[0].id;\r\n      this.showInfo(this.id);\r\n      this.allIdentity = data;\r\n    });\r\n    getAllAuthority().then(({ data }) => {\r\n      this.allAuthority = Object.keys(data).map(key => {\r\n        return {\r\n          authorityName: key,\r\n          ...data[key]\r\n        };\r\n      });\r\n    });\r\n    document.addEventListener(\"dragover\", this.dragover);\r\n  },\r\n  destroyed() {\r\n    document.removeEventListener(\"dragover\", this.dragover);\r\n  },\r\n  methods: {\r\n    dragover(e) {\r\n      e.preventDefault();\r\n    },\r\n    showInfo(id) {\r\n      getUserAuthorityFromIdentity(id).then(({ data }) => {\r\n        this.userAFromI = data[0];\r\n      });\r\n    },\r\n    /**\r\n     * 点击身份切换身份信息\r\n     */\r\n    changeIdentity(id) {\r\n      this.id = id;\r\n      this.showInfo(this.id);\r\n    },\r\n    /**\r\n     * 拖动经过身份\r\n     */\r\n    dragenter(i) {\r\n      this.hoverIndex = i;\r\n    },\r\n    /**\r\n     * 松开时\r\n     */\r\n    drop({ dataTransfer }, val) {\r\n      //拖动元素数据\r\n      let movedata = JSON.parse(dataTransfer.getData(\"text/plain\"));\r\n      //val 目标元素数据\r\n      console.log(val, movedata);\r\n      this.hoverIndex = -1;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.scroll-container {\r\n  height: 200px;\r\n}\r\n.el-table::before {\r\n  display: none;\r\n}\r\n.el-card {\r\n  margin-bottom: 20px;\r\n}\r\n.userContainer .el-scrollbar__view .el-row {\r\n  margin-left: 0 !important;\r\n  margin-right: 0 !important;\r\n}\r\n.identity-list dt {\r\n  border-bottom: 2px solid #edf0f6;\r\n  height: 45px;\r\n  font-weight: 600;\r\n  line-height: 45px;\r\n}\r\n.identity-list dd {\r\n  border-bottom: 1px solid #edf0f6;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  cursor: pointer;\r\n}\r\n.identity-list dd.active {\r\n  background: #409eff;\r\n  color: #fff;\r\n}\r\n.identity-list dd.hoverActive {\r\n  background: #ebeef5;\r\n}\r\n.identity-list span {\r\n  display: inline-block;\r\n  text-align: center;\r\n  width: 120px;\r\n}\r\n.user-form dl {\r\n  display: flex;\r\n  padding: 5px 0;\r\n}\r\n.user-form dl dt p {\r\n  width: 80px;\r\n  padding-right: 5px;\r\n  display: inline-block;\r\n  align-content: center;\r\n  text-align-last: justify;\r\n}\r\n.user-form dl dt:after {\r\n  content: \":\";\r\n  display: inline-block;\r\n  padding-right: 10px;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0bf3945b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0bf3945b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf3945b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}