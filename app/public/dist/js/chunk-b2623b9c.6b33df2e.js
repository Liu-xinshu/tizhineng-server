(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b2623b9c"],{"8cd6":function(t,e,a){},"92d0":function(t,e,a){"use strict";var r=a("d41f"),n=a.n(r);n.a},a75e:function(t,e,a){"use strict";var r=a("8cd6"),n=a.n(r);n.a},d41f:function(t,e,a){},e6c5:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userContainer"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("用户")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("添加用户\n          ")])],1),a("scroll-pane",[a("el-row",{attrs:{gutter:10}},t._l(t.allUser,function(e){return a("el-col",{key:e.userid,attrs:{span:12}},[a("move-block",{attrs:{movedata:e}},[a("li",[a("span",[t._v("用户名："+t._s(e.userName))])]),a("li",{attrs:{title:e.identityName}},[a("span",[t._v("身   份："+t._s(e.identityName))])])])],1)}),1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("身份")])]),a("scroll-pane",[a("dl",{staticClass:"identity-list"},[a("dt",[a("span",[t._v("身份id")]),a("span",[t._v("身份名称")])]),t._l(t.allIdentity,function(e,r){return a("dd",{key:e.id,class:{active:e.id===t.id,hoverActive:r===t.hoverIndex},on:{click:function(a){return t.changeIdentity(e.id)},dragenter:function(e){return t.dragenter(r)},drop:function(a){return t.drop(a,e)}}},[a("span",[t._v(t._s(e.id))]),a("span",[t._v(t._s(e.identityName))])])})],2)])],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("权限")])]),a("scroll-pane",[a("el-row",{attrs:{gutter:10}},t._l(t.allAuthority,function(e){return a("el-col",{key:e.id,attrs:{span:12}},[a("move-block",{attrs:{movedata:e}},[a("li",[a("span",[t._v("权    限："+t._s(e.authorityName))])]),a("li",{attrs:{title:e.name}},[a("span",[t._v("权限名称："+t._s(e.name))])])])],1)}),1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("身份详情信息")])]),a("scroll-pane",[t.userAFromI?a("div",{staticClass:"user-form"},[a("dl",[a("dt",[a("p",[t._v("身份名称")])]),a("dd",[t._v(t._s(t.userAFromI.identityName))])]),a("dl",[a("dt",[a("p",[t._v("权限")])]),a("dd",[a("ul",t._l(t.userAFromI.authority,function(e,r){return a("li",{key:r},[t._v(t._s(e)+":"+t._s(t.allAuthority.find(function(t){return t.authorityName===e}).name))])}),0)])]),a("dl",[a("dt",[a("p",[t._v("用户")])]),a("dd",[a("ul",t._l(t.userAFromI.userInfo,function(e){return a("li",{key:e.id},[t._v(t._s(e.userName))])}),0)])])]):a("div",[t._v("暂无该信息")])])],1)],1)],1)],1)},n=[],s=a("cebc"),i=(a("ac6a"),a("456d"),a("751a")),o=a("f122");function l(){return i["a"].get(o["a"]+"/user/getAllUser")}function d(){return i["a"].get(o["a"]+"/user/getAllIdentity")}function c(t){return i["a"].get(o["a"]+"/user/getUserAuthorityFromIdentity",{params:{identityId:t}})}function u(){return i["a"].get(o["a"]+"/user/getAllAuthority")}var v=a("a46e"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"moveblock",attrs:{draggable:"true"},on:{dragstart:t.dragstart}},[t._t("default")],2)},h=[],p={props:{movedata:Object},methods:{dragstart:function(t){var e=t.dataTransfer;e.setData("text/plain",JSON.stringify(this.movedata))}}},_=p,m=(a("a75e"),a("2877")),y=Object(m["a"])(_,f,h,!1,null,"0ff375c4",null),g=y.exports,I={data:function(){return{id:0,hoverIndex:-1,allUser:[],allIdentity:[],allAuthority:[],userAFromI:[]}},components:{scrollPane:v["a"],moveBlock:g},mounted:function(){var t=this;l().then(function(e){var a=e.data;t.allUser=a}),d().then(function(e){var a=e.data;t.id=a[0].id,t.showInfo(t.id),t.allIdentity=a}),u().then(function(e){var a=e.data;t.allAuthority=Object.keys(a).map(function(t){return Object(s["a"])({authorityName:t},a[t])})}),document.addEventListener("dragover",this.dragover)},destroyed:function(){document.removeEventListener("dragover",this.dragover)},methods:{dragover:function(t){t.preventDefault()},showInfo:function(t){var e=this;c(t).then(function(t){var a=t.data;e.userAFromI=a[0]})},changeIdentity:function(t){this.id=t,this.showInfo(this.id)},dragenter:function(t){this.hoverIndex=t},drop:function(t,e){var a=t.dataTransfer,r=JSON.parse(a.getData("text/plain"));console.log(e,r),this.hoverIndex=-1}}},b=I,A=(a("92d0"),Object(m["a"])(b,r,n,!1,null,"0bf3945b",null));e["default"]=A.exports}}]);
//# sourceMappingURL=chunk-b2623b9c.6b33df2e.js.map